<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Game</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        canvas{
            position: absolute;
            left: 50%;
            top: 50%;
            border: 15px solid rgb(102, 255, 0);
            margin-top: -300px;
            margin-left: -300px;
        }
    </style>
</head>
<body>
    <canvas height="600" width="600" id="mycanvas"></canvas>

    <script>
        var canvas = document.getElementById("mycanvas");
        var ctx = canvas.getContext("2d")
        var ctx2 = canvas.getContext("2d")

        var teclas = {}

        var jorge = {
            x: canvas.width / 2 - 15,
            y: canvas.height / 2 - 15,
            altura: 30,
            largura: 30,
            //dirx: -1,
            //diry: 1,
            mod: 0,
            speed: 3,
        };
        
        var parede = {
            x: 250,
            y: 255,
            altura: 20,
            largura: 350,
        }

        document.addEventListener('keydown', function(e) {
            teclas[e.keyCode] = true
            //alert(e.keyCode)
        }, false)

        document.addEventListener('keyup', function(e) {
            delete teclas[e.keyCode]
        }, false)

        function movejorge() {
            if(38 in teclas && jorge.y > 0) {
                jorge.y -= jorge.speed
            } else if(40 in teclas && jorge.y + jorge.altura < canvas.height) {
                jorge.y += jorge.speed
            } else if(37 in teclas && jorge.x > 0) {
                jorge.x -= jorge.speed
            } else if(39 in teclas && jorge.x + jorge.largura < canvas.width) {
                jorge.x += jorge.speed
            }
        }

        function colidirparede() {
            if (jorge.x < parede.x + parede.largura && jorge.x + jorge.largura > parede.x && jorge.y < parede.y + parede.altura && jorge.y + jorge.altura > parede.y) {
                jorge.speed = 0
               
            }
        }

        function desenha() {

            ctx.clearRect(0,0, canvas.width, canvas.height)
            movejorge();
            colidirparede();

            ctx.fillStyle = "rgb(0, 174, 255)"
            ctx.fillRect(jorge.x, jorge.y, jorge.largura, jorge.altura)
            ctx2.fillStyle = "green"
            ctx2.fillRect(parede.x, parede.y, parede.largura, parede.altura)
        }

        setInterval(desenha, 5)
    </script>
</body>
</html>